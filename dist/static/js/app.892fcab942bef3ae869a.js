webpackJsonp([1],{"60Pi":function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});a("60Pi"),a("np1r");var i=a("Xxa5"),n=a.n(i),o=(a("mvHQ"),a("Gu7T")),r=a.n(o),s=a("exGp"),h=a.n(s),m=(a("od15"),a("+G5l")),w=a("Ml+6"),d=10335764,p=5876775,c=16767913,v=7496554,y=7496554,g=14465972,l=16645367,x=10972695,u=14070926,M=7942486,z=16711680,f=12158069,P=8435420,I=14277081,S=15658734;function b(e,t){var a=e/t,i=new w.t(50,a,1,3500);return i.position.set(0,-350,2150),i.rotation.set(.2,.036,0),i}var T,L=this,k=(T=h()(n.a.mark(function e(t,a,i){var o,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(o=new w.A({alpha:!0,antialias:r})).setSize(a,i),o.shadowMap.enabled=!0,document.getElementById(t).appendChild(o.domElement),e.abrupt("return",o);case 6:case"end":return e.stop()}},e,L)})),function(e,t,a){return T.apply(this,arguments)});function E(){var e=new w.f(16777215,.75);return e.position.set(-280,695,350),e.castShadow=!0,e.shadow.camera.left=-800,e.shadow.camera.right=800,e.shadow.camera.top=800,e.shadow.camera.bottom=-800,e.shadow.camera.near=1,e.shadow.camera.far=1500,e.shadow.mapSize.width=512,e.shadow.mapSize.height=512,e}var q=a("Zrlr"),H=a.n(q),B=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[100,100,100],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{x:0,y:0,z:0},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"cube-"+~~(1e3*Math.random());H()(this,e),this.width=t[0],this.height=t[1],this.depth=t[2],this.color=i,this.geometry=new w.b(this.width,this.height,this.depth),this.material,this.color?this.material=new w.q({color:this.color,flatShading:!0}):this.material=null,this.mesh=new w.p(this.geometry,this.material),this.mesh.castShadow=!0,this.mesh.receiveShadow=!0,this.mesh.position.x+=a.x,this.mesh.position.y+=a.y,this.mesh.position.z+=a.z,this.mesh.name=n,this.mesh.updateMatrix()},N={wood:new w.q({color:x,flatShading:!0}),green:new w.q({color:p,flatShading:!0}),darkMetal:new w.q({color:y,specular:328965,shininess:100}),lightMetal:new w.q({color:g,side:w.g,specular:328965,shininess:100}),glass:new w.q({color:S,side:w.g,transparent:!0,opacity:.5,specular:328965,shininess:1e4}),rust:new w.q({color:f,side:w.g,specular:328965,shininess:100}),brick:new w.q({color:u,flatShading:!0}),roof:new w.q({color:M,flatShading:!0}),white:new w.q({color:l,flatShading:!0}),red:new w.q({color:z,flatShading:!0}),balloon:new w.q({color:I,flatShading:!0,side:w.g}),line:new w.m({color:g,linewidth:1}),water:new w.q({color:P,flatShading:!0,specular:328965,shininess:1e3,transparent:!0,opacity:.8}),override:new w.q({color:14464896,wireframe:!0})},C=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:35,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:16,r=arguments.length>5&&void 0!==arguments[5]&&arguments[5];H()(this,e);var s=new w.i;this.radius=n,this.segmentsCount=o;var h=r?N.lightMetal:null,m=new w.p(new w.e(n,n,24*t,16,1,!0));if(m.rotation.y=2*Math.PI/80,m.updateMatrix(),s.merge(m.geometry,m.matrix),a){var d=new w.p(new w.x(n,6,10,16,2*Math.PI));d.position.y=12*t,d.rotation.x=Math.PI/2,d.updateMatrix(),s.merge(d.geometry,d.matrix)}if(i){var p=new w.p(new w.x(n,6,10,16,2*Math.PI));p.position.y=-12*t,p.rotation.x=Math.PI/2,p.updateMatrix(),s.merge(p.geometry,p.matrix)}for(var c=new w.e(2,2,24*t,3,1,!0),v=0;v<this.segmentsCount;v++){var y=new w.p(c);y.position.set(n*Math.cos(v*(2*Math.PI)/this.segmentsCount),0,n*Math.sin(v*(2*Math.PI)/this.segmentsCount)),y.updateMatrix(),s.merge(y.geometry,y.matrix)}this.mesh=new w.p(s,h),this.mesh.name="pipe-connection"},D=function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];H()(this,e),this.mesh=new w.r,this.mesh.name="pipe-corner";var i=new w.i,n=new w.x(70,35,16,16,Math.PI/2),o=new w.p(n);if(o.rotation.z=Math.PI/2,o.updateMatrix(),i.merge(o.geometry,o.matrix),a){var r=(new C).mesh;r.rotation.z+=Math.PI/2,r.position.y+=70,r.updateMatrix(),i.merge(r.geometry,r.matrix)}if(t){var s=(new C).mesh;s.position.x-=70,s.updateMatrix(),i.merge(s.geometry,s.matrix)}var h=new w.p(i,N.lightMetal);h.castShadow=!0,h.receiveShadow=!0,this.mesh=h},X=function e(){H()(this,e);var t=new w.w;t.moveTo(0,0),t.absarc(0,0,12,0,2*Math.PI);var a=new w.s;a.moveTo(0,0),a.absarc(0,0,10,0,2*Math.PI),t.holes.push(a);var i=new w.h(t,{curveSegments:8,steps:1,depth:1,bevelEnabled:!1});this.mesh=new w.p(i,N.rust),this.mesh.rotation.x+=Math.PI/2,this.mesh.castShadow=!0,this.mesh.receiveShadow=!0,this.mesh.name="chimney"},j=function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];H()(this,e),this.mesh=new w.r,this.mesh.name="fence";var a=Math.atan(70/130),i=new w.i,n=new w.p(new w.b(5,90,5));if(i.merge(n.geometry,n.matrix),t){var o=n.clone();o.position.z+=130,o.updateMatrix(),i.merge(o.geometry,o.matrix)}var r=new w.p(new w.b(2,2,130));r.position.set(0,25,65),r.updateMatrix(),i.merge(r.geometry,r.matrix);var s=new w.p(i,N.darkMetal);s.name="pillars",s.castShadow=!0,s.receiveShadow=!0;for(var h=new w.i,m=0;m<65;m++)h.vertices.push(new w.z(10*Math.cos(m),10*Math.sin(m),2*m));var d=new w.l(h,N.line);d.name="helix",d.castShadow=!0,d.receiveShadow=!0,d.position.set(-5,40,0);for(var p=new w.i,c=0;c<130;c+=26){var v=130-c;p.vertices.push(new w.z(0,0,c)),p.vertices.push(new w.z(0,v*Math.tan(a),130))}for(var y=130;y>0;y-=26){var g=130-y;p.vertices.push(new w.z(0,70,g)),p.vertices.push(new w.z(0,70-g*Math.tan(a),0))}for(var l=0;l<130;l+=26){var x=130-l;p.vertices.push(new w.z(0,0,x)),p.vertices.push(new w.z(0,x*Math.tan(a),0))}for(var u=0;u<130;u+=26){var M=130-u;p.vertices.push(new w.z(0,70,u)),p.vertices.push(new w.z(0,70-M*Math.tan(a),130))}var z=new w.n(p,N.line);z.position.y-=45,z.castShadow=!0,z.receiveShadow=!0,z.name="grid",this.mesh.add(s,d,z)},W=function e(){H()(this,e),this.mesh=new w.r,this.mesh.name="filter";var t=new w.i,a=new w.p(new w.b(5,30,390)),i=a.clone();i.position.x-=100,i.updateMatrix(),t.merge(a.geometry,a.matrix),t.merge(i.geometry,i.matrix);var n=new w.p(t,N.rust);n.castShadow=!0,n.receiveShadow=!0;for(var o=new w.i,r=0;r<4;r++){var s=4*r;o.vertices.push(new w.z(0,s,-40)),o.vertices.push(new w.z(-100,s,-40))}var h=new w.n(o,N.line);h.castShadow=!0,h.receiveShadow=!0,this.mesh.add(n,h)},Y=function e(){H()(this,e),this.mesh=new w.r,this.mesh.name="bottom-island",this.mesh.add(new B([400,400,400],{x:0,y:0,z:0},v).mesh),this.mesh.position.set(0,-400,400);for(var t=new w.i,a=[{x:120,y:350,z:-120,scale:150},{x:135,y:270,z:-90,scale:70},{x:95,y:245,z:-70,scale:50},{x:80,y:240,z:70,scale:40},{x:90,y:230,z:100,scale:30},{x:120,y:220,z:80,scale:20},{x:-130,y:320,z:-110,scale:140},{x:-125,y:270,z:-70,scale:70},{x:-140,y:500,z:90,scale:200}],i=0;i<a.length;i++){var n=(new X).mesh;n.position.set(a[i].x,a[i].y,a[i].z),n.scale.z=a[i].scale,n.updateMatrix(),t.merge(n.geometry,n.matrix)}var o=new w.i,r=new w.p(new w.e(40,40,70,6,1));r.position.set(0,-50,0),r.updateMatrix();var s=(new X).mesh;s.scale.set(3.5,3.5,150),s.updateMatrix(),o.merge(r.geometry,r.matrix),o.merge(s.geometry,s.matrix);var h=new w.p(o,N.rust);h.position.set(-125,325,90),h.updateMatrix(),t.merge(h.geometry,h.matrix);var m=new w.p(t,N.rust);m.castShadow=!0,m.receiveShadow=!0,this.mesh.add(m);for(var d=[{position:{x:0,y:170,z:195},rotation:{x:0,y:Math.PI/2,z:0}},{position:{x:0,y:0,z:195},rotation:{x:0,y:Math.PI/2,z:Math.PI}},{position:{x:215,y:-75,z:10},rotation:{x:Math.PI/2,y:Math.PI/2,z:0}},{position:{x:215,y:-75,z:-20},rotation:{x:Math.PI/2,y:Math.PI,z:0}}],p=0;p<d.length;p++){var c=(new D).mesh;c.position.set(d[p].position.x,d[p].position.y,d[p].position.z),c.rotation.set(d[p].rotation.x,d[p].rotation.y,d[p].rotation.z,"ZYX"),this.mesh.add(c)}for(var y=[{position:{x:195,y:245,z:-195},rotation:{x:0,y:0,z:0}},{position:{x:195,y:245,z:-65},rotation:{x:0,y:0,z:0}},{position:{x:195,y:245,z:65},rotation:{x:0,y:0,z:0}},{position:{x:195,y:245,z:195},rotation:{x:0,y:-Math.PI/2,z:0},isClosed:!0},{position:{x:-65,y:245,z:195},rotation:{x:0,y:-Math.PI/2,z:0},isClosed:!0},{position:{x:-195,y:245,z:-195},rotation:{x:0,y:0,z:0}},{position:{x:-195,y:245,z:-65},rotation:{x:0,y:0,z:0}},{position:{x:-195,y:245,z:65},rotation:{x:0,y:0,z:0}}],g=0;g<y.length;g++){var l=new j(y[g].isClosed).mesh;l.position.set(y[g].position.x,y[g].position.y,y[g].position.z),l.rotation.set(y[g].rotation.x,y[g].rotation.y,y[g].rotation.z),this.mesh.add(l)}var x=(new W).mesh;x.position.set(50,215,-5),this.mesh.add(x)},F=function e(){var t=this;H()(this,e),this.rotate=function(e){t.propeller.rotation.z+=e},this.mesh=new w.r,this.mesh.name="fan";var a=new w.i,i=new w.p(new w.e(8,8,10,6,1)),n=new w.p(new w.e(5,5,400,6,1)),o=new w.p(new w.e(25,25,50,8,1));o.rotation.x+=Math.PI/2,o.position.y+=200,o.updateMatrix(),a.merge(i.geometry,i.matrix),a.merge(n.geometry,n.matrix),a.merge(o.geometry,o.matrix);var r=new w.p(a,N.darkMetal);r.castShadow=!0,r.receiveShadow=!0;var s=new w.r,h=new w.e(10,10,30,6,1),m=new w.p(h,N.darkMetal);m.receiveShadow=!0,m.castShadow=!0,m.position.z+=30,m.rotation.x=Math.PI/2;for(var d=[],p=new w.b(20,120,2),c=0;c<3;c++){var v=new w.p(p,N.white);v.geometry.translate(0,20,0),v.geometry.vertices[4].y+=5,v.geometry.vertices[4].z-=1,v.geometry.vertices[5].y+=5,v.geometry.vertices[5].z-=1,v.rotation.z=c*(2*Math.PI/3),v.position.z+=40,v.castShadow=!0,v.receiveShadow=!0,d.push(v)}s.position.y+=200,s.add.apply(s,[m].concat(d)),this.propeller=s,this.mesh.add(r,s)},G=function e(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];H()(this,e);var t=new w.i,a=new B([10,20,4],{x:0,y:0,z:0});a.mesh.updateMatrix();var i=new B([28,4,2],{x:-19,y:8,z:0});i.mesh.updateMatrix();var n=new B([28,4,2],{x:-19,y:-3,z:0});n.mesh.updateMatrix();var o=new B([10,6,4],{x:0,y:13,z:0});o.mesh.geometry.vertices[0].x-=5,o.mesh.geometry.vertices[1].x-=5,o.mesh.geometry.vertices[4].x+=5,o.mesh.geometry.vertices[5].x+=5,o.mesh.updateMatrix(),t.merge(n.mesh.geometry,n.mesh.matrix),t.merge(a.mesh.geometry,a.mesh.matrix),t.merge(i.mesh.geometry,i.mesh.matrix),t.merge(o.mesh.geometry,o.mesh.matrix),this.width=38,this.mesh=new w.p(t,N.wood),this.mesh.position.y+=10},A=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[1,1,1],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;H()(this,e),this.mesh=new w.r,this.mesh.name="pine";var i=new w.e(8,8,15,10,1),n=new w.p(i,N.wood);n.castShadow=!0,n.receiveShadow=!0,n.position.y+=7.5;for(var o=new w.i,r=1;r<=7;r++){var s=45-5*r,h=new w.p(new w.e(s-10,s,10,6,1));h.position.y+=10+70*r/7,h.updateMatrix(),o.merge(h.geometry,h.matrix)}var m=new w.p(o,N.green);m.receiveShadow=!0,m.castShadow=!0,this.mesh.scale.x=t[0],this.mesh.scale.y=t[1],this.mesh.scale.z=t[2],this.mesh.rotation.y=a,this.mesh.add(n,m)},O=function e(){var t=this;H()(this,e),this.rotateFan=function(e){t.fan.rotation.z+=e},this.mesh=new w.r,this.mesh.name="windwane";var a=new w.i,i=new w.i,n=new B([20,200,15],{x:0,y:100,z:0}).mesh;n.geometry.vertices[0].x-=5,n.geometry.vertices[0].z-=5,n.geometry.vertices[1].x-=5,n.geometry.vertices[1].z+=5,n.geometry.vertices[4].x+=5,n.geometry.vertices[4].z+=5,n.geometry.vertices[5].x+=5,n.geometry.vertices[5].z-=5,n.updateMatrix(),i.merge(n.geometry,n.matrix);for(var o=0;o<4;o++){var r=new B([65,10,5],{x:-25,y:30+40*o,z:0}).mesh;r.rotation.z+=Math.PI/4*(o%2==0?-1:1),r.updateMatrix(),i.merge(r.geometry,r.matrix)}for(var s=0;s<4;s++){var h=new w.p(i,N.wood);h.position.x+=40*Math.cos(s*Math.PI/2),h.position.z+=40*Math.sin(s*Math.PI/2),h.rotation.y+=Math.PI/4-s*(Math.PI/2),h.updateMatrix(),a.merge(h.geometry,h.matrix)}var m=new B([80,10,80],{x:0,y:200,z:0}).mesh;m.rotation.y-=Math.PI/4,m.updateMatrix(),a.merge(m.geometry,m.matrix);var d=new w.p(a,N.wood);d.name="stand",d.castShadow=!0,d.receiveShadow=!0,d.rotation.y+=Math.PI/4;var p=new w.i,c=new w.p(new w.e(2,2,60,6,1));c.rotation.z=Math.PI/6,c.position.set(15,230,0),c.updateMatrix();var v=c.clone();v.rotation.z=-Math.PI/6,v.position.x=-15,v.updateMatrix();var y=new w.p(new w.e(4,4,6,6,1));y.position.set(0,255,0),y.updateMatrix(),p.merge(c.geometry,c.matrix),p.merge(v.geometry,v.matrix),p.merge(y.geometry,y.matrix);var g=new w.p(p,N.lightMetal);g.castShadow=!0,g.receiveShadow=!0;var l=new w.r,x=new w.p(new w.e(2,2,100,6,1),N.lightMetal);x.position.set(0,260,0),x.rotation.x+=Math.PI/2,x.receiveShadow=!0,x.castShadow=!0;var u=new w.p(new w.e(3,3,5,6,1),N.lightMetal);u.position.set(0,260,0),u.receiveShadow=!0,u.castShadow=!0;var M=new w.w;M.moveTo(0,8),M.lineTo(9,16),M.lineTo(36,16),M.lineTo(27,8),M.lineTo(36,0),M.lineTo(9,0),M.moveTo(0,8);var z=new w.p(new w.h(M,{steps:2,depth:4,bevelEnabled:!1}),N.red);z.castShadow=!0,z.receiveShadow=!0,z.position.set(-2,252,-25),z.rotation.y=Math.PI/2;for(var f=new w.r,P=new w.i,I=0;I<12;I++){var S=new B([45,2,1],{x:4*Math.cos(I*(Math.PI/6)),y:4*Math.sin(I*(Math.PI/6)),z:0}).mesh;S.geometry.translate(20,0,0),S.geometry.vertices[1].z-=4,S.geometry.vertices[1].y+=10,S.rotation.z+=I*Math.PI/6,S.updateMatrix(),P.merge(S.geometry,S.matrix)}var b=new w.p(P,N.lightMetal);b.castShadow=!0,b.receiveShadow=!0;var T=new w.p(new w.e(4,4,4,6,1),N.darkMetal);T.rotation.x=Math.PI/2,T.castShadow=!0,T.receiveShadow=!0,f.add(b,T),f.position.set(0,260,45),this.fan=f,l.add(x,u,z,f),this.vane=l,this.mesh.add(d,g,l)},Z=function e(){H()(this,e);var t=new w.i,a=new B([5,410,5],{x:0,y:205,z:0}).mesh;t.merge(a.geometry,a.matrix);var i=a.clone();i.position.z-=30,i.updateMatrix(),t.merge(i.geometry,i.matrix);for(var n=0;n<40;n++){var o=new B([2,2,30],{x:0,y:10*n+10,z:-15}).mesh;t.merge(o.geometry,o.matrix)}this.mesh=new w.p(t,N.wood),this.mesh.castShadow=!0,this.mesh.receiveShadow=!0},_=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[[0,0,0]];H()(this,e);for(var a=new w.i,i=0;i<t.length;i++){var n=new B([30,40,30],{x:t[i][0],y:t[i][1],z:t[i][2]}).mesh;n.rotation.set(Math.random()*(2*Math.PI),Math.random()*(2*Math.PI),Math.random()*(2*Math.PI)),n.updateMatrix(),a.merge(n.geometry,n.matrix)}this.mesh=new w.p(a,N.lightMetal),this.mesh.castShadow=!0,this.mesh.receiveShadow=!0},J=function e(){var t;H()(this,e),this.mesh=new w.r,this.mesh.name="middle-island",this.mesh.add(new B([400,400,400],{x:0,y:0,z:0},c,"middle-cube-basement").mesh),this.fans=[];for(var a=[{x:200,y:100,z:-100,rx:-Math.PI/2,rz:-Math.PI/2},{x:200,y:-50,z:100,rx:-Math.PI/2,rz:-Math.PI/2}],i=0;i<a.length;i++){var n=new F;n.mesh.position.set(a[i].x,a[i].y,a[i].z),n.mesh.rotation.set(a[i].rx,0,a[i].rz),this.fans.push(n)}for(var o=[{x:190,z:-190,ry:0,mx:-1,mz:0,count:11},{x:190,z:185,ry:-Math.PI/2,mx:0,mz:-1,count:10},{x:-190,z:190,ry:0,mx:1,mz:0,count:4},{x:80,z:185,ry:Math.PI,mx:1,mz:0,count:3}],s=new w.i,h=0;h<o.length;h++)for(var m=0;m<o[h].count;m++){var d=(new G).mesh;d.position.set(o[h].x+m*o[h].mx*38,210,o[h].z+m*o[h].mz*38),d.rotation.y=o[h].ry,d.updateMatrix(),s.merge(d.geometry,d.matrix)}var p=new w.p(s,N.wood);p.name="fence-perimeter",p.castShadow=!0,p.receiveShadow=!0;var v=new A([1.2,2,1.2]).mesh;v.position.set(-140,200,140);var y=new O;y.mesh.position.set(100,200,-50),y.mesh.rotation.y+=Math.PI/16,this.windvane=y;var g=(new Z).mesh;g.position.set(-158,200,-90),g.rotation.z=Math.PI/32;for(var l=[],x=0;x<12;x++)l.push([250*Math.cos(x*Math.PI/24),0,-180*Math.sin(x*Math.PI/24)]);for(var u=0;u<8;u++)l.push([150*Math.cos(u*Math.PI/16)+10,0,-100*Math.sin(u*Math.PI/16)]);var M=new _(l).mesh;M.position.set(-210,200,170);for(var z,f,P=new w.i,I=(new w.i,[{type:"straight",position:[80,-475,125],rotation:[Math.PI/2,0,0]},{type:"connection",position:[80,-475,35],rotation:[Math.PI/2,0,0],options:{m:1}},{type:"arc",position:[80,-397.5,20],rotation:[-Math.PI/2,Math.PI/2,-Math.PI/2],options:{scale:1.1}},{type:"connection",position:[80,-300,-57.5],rotation:[0,0,0],options:{m:8}},{type:"straight",position:[-275,-75,80],rotation:[0,0,Math.PI/2]},{type:"connection",position:[-360,-75,80],rotation:[0,0,Math.PI/2],options:{m:1}},{type:"arc",position:[-370,0,80],rotation:[0,0,Math.PI/2],options:{scale:1.1}},{type:"connection",position:[-450,150,80],rotation:[0,0,0],options:{m:4}}]),S=0;S<I.length;S++){var b=void 0;switch(I[S].type){case"straight":b=new w.p(new w.e(35,35,150,8,1));break;case"connection":b=new C(I[S].options.m).mesh;break;case"arc":(b=new D(!1,!1).mesh).scale.set(I[S].options.scale,I[S].options.scale,I[S].options.scale)}f=I[S],(z=b).position.set(f.position[0],f.position[1],f.position[2]),z.rotation.set(f.rotation[0],f.rotation[1],f.rotation[2]),z.updateMatrix(),P.merge(b.geometry,b.matrix)}var T=new w.p(P,N.lightMetal);T.castShadow=!0,T.receiveShadow=!0,(t=this.mesh).add.apply(t,[p,v,y.mesh,g,M].concat(r()(this.fans.map(function(e){return e.mesh})),[T]))},Q=function e(t,a){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8;H()(this,e),this.radius=i;var o=new w.c([new w.z(0,0,0),new w.z(0,0,t),new w.z(0,a,t+i)]),r=new w.w;r.moveTo(this.radius*Math.cos(0),this.radius*Math.sin(0));for(var s=1;s<16;s++)r.lineTo(this.radius*Math.cos(s*(2*Math.PI)/16),this.radius*Math.sin(s*(2*Math.PI)/16));this.mesh=new w.p(new w.h(r,{curveSegments:8,steps:n,bevelEnabled:!1,extrudePath:o}))},R=function e(){H()(this,e),this.mesh=new w.r,this.mesh.name="house";var t=140,a=50,i=140,n=new B([t,a,i],{x:0,y:a/2,z:-100},u,"first-floor").mesh;n.castShadow=!0,n.receiveShadow=!0;var o=new B([t+10,a/10,i+10],{x:0,y:a/20,z:-100},y,"basement").mesh;o.castShadow=!0,o.receiveShadow=!0;var r=new w.r,s=new w.p(new w.e(t-40,t-35,5,4,1),N.brick);s.position.y-=2.5,s.castShadow=!0,s.receiveShadow=!0;var h=new w.p(new w.e(20,20,5,4,1),N.brick);h.position.y+=122.5,h.castShadow=!0,h.receiveShadow=!0;var m=new w.p(new w.e(15,15,5,4,1),N.brick);m.position.y+=155,m.castShadow=!0,m.receiveShadow=!0,r.add(s,h,m),r.position.set(0,a,-100),r.rotation.y+=Math.PI/4;for(var d=new w.i,p=[{y:20,rT:50,rB:100,height:40},{y:70,rT:20,rB:50,height:60},{y:110,rT:15,rB:20,height:20},{y:130,rT:30,rB:15,height:10},{y:145,rT:10,rB:30,height:20},{y:165,rT:1,rB:10,height:20}],c=0;c<p.length;c++){var v=new w.p(new w.e(p[c].rT,p[c].rB,p[c].height,4,1));v.position.y+=p[c].y,v.updateMatrix(),d.merge(v.geometry,v.matrix)}var g=new w.p(d,N.roof);g.castShadow=!0,g.receiveShadow=!0,r.add(g);for(var l=new w.i,x=[{x:0,y:100,z:-70,width:30,height:50},{x:-10,y:120,z:-80,width:20,height:80}],M=0;M<x.length;M++){var z=new Q(x[M].width,x[M].height).mesh;z.position.set(x[M].x,x[M].y,x[M].z),z.updateMatrix(),l.merge(z.geometry,z.matrix)}var f=new w.p(l,N.lightMetal);f.castShadow=!0,f.receiveShadow=!0;var P=new w.w;P.moveTo(15,-15),P.lineTo(15,15);for(var I=0;I<8;I++)P.lineTo(15*Math.cos(I*Math.PI/8),10*Math.sin(I*Math.PI/8)+15);P.lineTo(-15,-15),P.moveTo(-15,15);var S=new w.p(new w.h(P,{steps:2,depth:4,bevelEnabled:!1}),N.wood);S.castShadow=!0,S.receiveShadow=!0,S.position.set(70,15,-125),S.rotation.y=Math.PI/2;var b=new w.w;b.moveTo(0,0),b.absarc(0,0,15,0,2*Math.PI);var T=new w.s;T.moveTo(0,0),T.absarc(0,0,12,0,2*Math.PI),b.holes.push(T);var L=new w.h(b,{depth:4,steps:1,bevelEnabled:!1}),k=new B([1,30,4]),E=new B([30,1,4]);L.merge(k.geometry,k.matrix),L.merge(E.geometry,E.matrix);var q=new w.p(L,N.wood);q.position.set(70,25,-65),q.rotation.y=Math.PI/2,q.scale.x=1.15,q.receiveShadow=!0,q.castShadow=!0,this.mesh.add(o,n,S,q,r,f)},U=function e(){var t=this;H()(this,e),this.mesh=new w.r,this.mesh.name="top-island",this.mesh.add(new B([400,400,400],{x:0,y:0,z:0},d).mesh),this.fans=[];for(var a=[{x:-100,y:100},{x:100,y:-100}],i=0;i<a.length;i++){var n=new F;n.mesh.position.set(a[i].x,a[i].y,200),n.mesh.rotation.set(Math.PI/2,Math.PI,0),this.fans.push(n)}this.fans.map(function(e){t.mesh.add(e.mesh)});var o=(new R).mesh;o.position.x+=70,o.position.y+=200,o.position.z+=5,o.rotation.y-=Math.PI/16,this.mesh.add(o);for(var r=new w.i,s=[{x:190,z:187,ry:0,mx:-1,mz:0,count:10},{x:-187,z:185,ry:-Math.PI/2,mx:0,mz:-1,count:10},{x:-187,z:-187,ry:Math.PI,mx:1,mz:0,count:10},{x:190,z:118,ry:Math.PI/2,mx:0,mz:1,count:2},{x:187,z:-155,ry:-Math.PI/2,mx:0,mz:-1,count:1}],h=0;h<s.length;h++)for(var m=0;m<s[h].count;m++){var p=(new G).mesh;p.position.set(s[h].x+m*s[h].mx*38,210,s[h].z+m*s[h].mz*38),p.rotation.y=s[h].ry,p.updateMatrix(),r.merge(p.geometry,p.matrix)}var c=new w.p(r,N.wood);c.name="fence-perimeter",c.castShadow=!0,c.receiveShadow=!0,this.mesh.add(c);for(var v=[{x:120,y:200,z:140,sx:1,sy:1,sz:1},{x:15,y:200,z:140,sx:1,sy:1.2,sz:1},{x:-100,y:200,z:140,sx:1.1,sy:1.5,sz:1.1},{x:-90,y:200,z:-80,sx:1.6,sy:1.8,sz:1.6}],y=0;y<v.length;y++){var g=new A([v[y].sx,v[y].sy,v[y].sz]).mesh;g.position.set(v[y].x,v[y].y,v[y].z),this.mesh.add(g)}var l=(new D).mesh;l.position.x-=60,l.position.y+=215,l.position.z+=40,this.mesh.add(l),this.mesh.position.set(-400,400,0)},V=function e(){H()(this,e),this.mesh=new w.r,this.mesh.name="zeppelin-balloon";for(var t=[],a=0;a<12;a++)t.push(new w.y(200*Math.sin(a*(Math.PI/12)),200*Math.cos(a*(Math.PI/12))*2));var i=new w.p(new w.k(t),N.balloon);i.receiveShadow=!0;var n=new w.w;n.moveTo(t[0].y,t[0].x);for(var o=1;o<t.length-1;o++)n.lineTo(t[o].y,t[o].x);n.moveTo(t[t.length]);var r=new w.p(new w.h(n,{steps:1,depth:20,bevelEnabled:!1}),N.lightMetal);r.rotation.z-=Math.PI/2,r.position.set(5,0,-10),r.castShadow=!0,r.receiveShadow=!0,this.mesh.add(i,r),this.mesh.rotation.x=Math.PI/2},K=function e(t,a){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:15;H()(this,e),this.radius=t;var n=new w.c(a),o=new w.w;o.moveTo(this.radius*Math.cos(0),this.radius*Math.sin(0));for(var r=1;r<16;r++)o.lineTo(this.radius*Math.cos(r*(2*Math.PI)/16),this.radius*Math.sin(r*(2*Math.PI)/16));this.mesh=new w.p(new w.h(o,{steps:i,bevelEnabled:!1,extrudePath:n})),this.mesh.name="hose"},$=function e(){var t=this,a=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];H()(this,e),this.rotate=function(e){t.propeller.rotation.y+=e},this.mesh=new w.r,this.mesh.name="zeppelin-fan";for(var n=new w.i,o=new w.p(new w.e(40,35,80,16,1)),r=[],s=0;s<16;s++)r.push(new w.y(40*Math.cos(s*(Math.PI/32)),40*Math.sin(s*(Math.PI/32))/3));var h=new w.p(new w.k(r,8));h.position.y+=40,h.updateMatrix();var m=new w.p(new w.e(5,5,120,6,1));if(m.position.set(-60,0,0),m.rotation.z-=Math.PI/2,m.updateMatrix(),a){var d=new B([15,45,1]).mesh;d.position.set(35,5,15),d.updateMatrix();var p=d.clone();d.position.z-=30,d.updateMatrix(),n.merge(d.geometry,d.matrix),n.merge(p.geometry,p.matrix);for(var c=-2;c<4;c++){var v=new w.p(new w.e(4,4,30,3,1));v.rotation.set(Math.PI/2,Math.PI/3,0),v.position.set(40+c/2-2,8*c,0),v.updateMatrix(),n.merge(v.geometry,v.matrix)}var y=i?-1:1,g=new K(4,[new w.z(-10,28,35*y),new w.z(0,5,50*y),new w.z(10,-4,55*y),new w.z(20,-8,50*y),new w.z(24,-12,40*y),new w.z(20,-16,25*y)]).mesh;n.merge(g.geometry,g.matrix)}var l=new w.p(new w.e(5,10,15,6,1,!0));l.position.y+=58,l.updateMatrix(),n.merge(o.geometry,o.matrix),n.merge(h.geometry,h.matrix),n.merge(m.geometry,m.matrix),n.merge(l.geometry,l.matrix);var x=new w.p(n,N.lightMetal);x.castShadow=!0,x.receiveShadow=!0;var u=new w.i,M=new w.p(new w.e(4,4,280,6,1));M.position.set(0,100,0),M.updateMatrix();var z=new w.p(new w.e(12,5,10,6,1));z.position.set(0,228,0),z.updateMatrix();var f=new w.i,P=new w.w;P.moveTo(0,-5);for(var I=-4;I<4;I++)P.lineTo(120+10*Math.cos(I*Math.PI/8),10*Math.sin(I*Math.PI/8));P.lineTo(0,5);for(var S=0;S<4;S++){var b=new w.p(new w.h(P,{curveSegments:8,steps:1,depth:2,bevelEnabled:!1}));b.rotation.z+=S*(Math.PI/2),b.updateMatrix(),f.merge(b.geometry,b.matrix)}var T=new w.p(f,N.white);T.position.set(0,235,0),T.geometry.applyMatrix((new w.o).makeRotationX(Math.PI/2)),T.updateMatrix(),u.merge(M.geometry,M.matrix),u.merge(z.geometry,z.matrix),u.merge(T.geometry,T.matrix),this.propeller=new w.p(u,N.white),this.propeller.castShadow=!0,this.propeller.receiveShadow=!0,this.mesh.add(x,this.propeller)},ee=function e(){H()(this,e);for(var t=new w.i,a=new w.i,i=new w.p(new w.e(30,30,70,16,1)),n=[],o=0;o<16;o++)n.push(new w.y(30*Math.cos(o*(Math.PI/32)),30*Math.sin(o*(Math.PI/32))/2));var r=new w.p(new w.k(n,12));r.position.y=35,r.updateMatrix();var s=r.clone();s.rotation.z+=Math.PI,s.position.y=-35,s.updateMatrix();var h=new w.p(new w.e(8,8,10,8,1));h.position.y+=50,h.updateMatrix(),a.merge(i.geometry,i.matrix),a.merge(r.geometry,r.matrix),a.merge(s.geometry,s.matrix),a.merge(h.geometry,h.matrix);var m=new w.p(a);m.position.z+=35,m.updateMatrix();var d=m.clone();d.position.z-=70,d.updateMatrix();var p=new B([5,4,80]).mesh;p.position.y+=52,p.updateMatrix();var c=new w.p(new w.e(2,2,120,6,1));c.position.set(-60,52,0),c.rotation.z-=Math.PI/2,c.updateMatrix(),t.merge(m.geometry,m.matrix),t.merge(d.geometry,d.matrix),t.merge(p.geometry,p.matrix),t.merge(c.geometry,c.matrix),this.mesh=new w.p(t,N.lightMetal),this.mesh.name="fuel-tanks",this.mesh.castShadow=!0,this.mesh.receiveShadow=!0},te=function e(){var t=this;H()(this,e),this.rotate=function(e){t.propeller.rotation.z+=e},this.mesh=new w.r,this.mesh.name="turbine";var a=new w.i,i=new w.w;i.moveTo(0,0),i.absarc(0,0,60,0,2*Math.PI);var n=new w.s;n.moveTo(0,0),n.absarc(0,0,55,0,2*Math.PI),i.holes.push(n);var o=new w.p(new w.h(i,{depth:80,steps:1,bevelEnabled:!1}));o.position.z-=40,o.updateMatrix();var r=new B([150,5,30],{x:-130,y:0,z:0}).mesh,s=new B([118,5,10]).mesh;s.rotation.z+=Math.PI/4,s.updateMatrix();var h=new w.p(new w.e(20,20,50,8,1));h.rotation.x+=Math.PI/2,h.updateMatrix(),a.merge(o.geometry,o.matrix),a.merge(r.geometry,r.matrix),a.merge(s.geometry,s.matrix),a.merge(h.geometry,h.matrix);var m=new w.p(a,N.darkMetal);m.castShadow=!0,m.receiveShadow=!0;for(var d=new w.i,p=0;p<12;p++){var c=new B([50,2,1],{x:4*Math.cos(p*(Math.PI/6)),y:4*Math.sin(p*(Math.PI/6)),z:30}).mesh;c.geometry.translate(20,0,0),c.geometry.vertices[1].z-=8,c.geometry.vertices[1].y+=10,c.rotation.z+=p*Math.PI/6,c.updateMatrix(),d.merge(c.geometry,c.matrix)}var v=new w.p(new w.e(10,1,10,8,1));v.rotation.x-=Math.PI/2,v.position.z+=35,v.updateMatrix(),d.merge(v.geometry,v.matrix),this.propeller=new w.p(d,N.lightMetal),this.propeller.castShadow=!0,this.propeller.receiveShadow=!0,this.mesh.add(m,this.propeller)},ae=function e(){var t;H()(this,e),this.mesh=new w.r,this.mesh.name="cabine";var a=new w.p(new w.e(150,100,80,16,1),N.darkMetal);a.scale.x=.5,a.updateMatrix(),this.turbines=[];for(var i=[{x:200,y:-50,z:0,rx:0,ry:0,rz:0},{x:-200,y:-50,z:0,rx:Math.PI,ry:Math.PI,rz:Math.PI/4}],n=0;n<i.length;n++){var o=new te;o.mesh.position.set(i[n].x,i[n].y,i[n].z),o.mesh.rotation.set(i[n].rx,i[n].ry,i[n].rz),o.mesh.rotation.z-=Math.PI/8,this.turbines.push(o)}(t=this.mesh).add.apply(t,[a].concat(r()(this.turbines.map(function(e){return e.mesh})))),this.mesh.castShadow=!0,this.mesh.receiveShadow=!0},ie=function e(){var t;H()(this,e),this.mesh=new w.r,this.mesh.name="zeppelin",this.mesh.position.set(-400,550,-900);var a=(new V).mesh;this.fans=[];for(var i=[{x:250,y:0,z:200,ry:0,full:!0,mirrored:!1},{x:240,y:0,z:-200,ry:0,full:!0,mirrored:!0},{x:-250,y:0,z:200,ry:Math.PI,full:!1,mirrored:!1},{x:-240,y:0,z:-200,ry:Math.PI,full:!1,mirrored:!1}],n=0;n<i.length;n++){var o=new $(i[n].full,i[n].mirrored);o.mesh.position.set(i[n].x,i[n].y,i[n].z),o.mesh.rotation.y+=i[n].ry,this.fans.push(o)}var s=(new ee).mesh;s.rotation.z-=Math.PI/8,s.position.set(220,-65,-50);for(var h=new w.i,m=[[new w.z(200,-110,-15),new w.z(210,-150,20),new w.z(195,-10,60),new w.z(195,-50,100),new w.z(220,0,160)],[new w.z(200,-110,-85),new w.z(210,-160,-140),new w.z(220,20,-180)]],d=0;d<m.length;d++){var p=new K(4,m[d],40).mesh;h.merge(p.geometry,p.matrix)}var c=new w.p(h,N.lightMetal);c.castShadow=!0,c.receiveShadow=!0,this.cabine=new ae,this.cabine.mesh.position.y-=210,(t=this.mesh).add.apply(t,[this.cabine.mesh,a].concat(r()(this.fans.map(function(e){return e.mesh})),[s,c]))},ne=function(){var e=this;this.moveWaves=function(){for(var t=e.mesh.geometry.vertices,a=t.length,i=0;i<a;i++){var n=t[i],o=e.waves[i];n.x=o.x-Math.cos(o.ang)*o.amp,n.y=o.y+Math.sin(o.ang)*o.amp,o.ang+=o.speed}e.mesh.geometry.verticesNeedUpdate=!0}},oe=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[new w.z(0,0,0),new w.z(1,1,1)],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;H()(this,e),ne.call(this);var i={steps:a,bevelEnabled:!1,extrudePath:new w.c(t)},n=new w.w;n.moveTo(36*Math.cos(0),36*Math.sin(0));for(var o=1;o<16;o++)n.lineTo(36*Math.cos(o*(2*Math.PI)/16),36*Math.sin(o*(2*Math.PI)/16)/1.5);var r=new w.h(n,i),s=N.water;r.mergeVertices();var h=r.vertices.length;this.waves=[];for(var m=0;m<h;m++){var d=r.vertices[m];this.waves.push({y:d.y,x:d.x,z:d.z,ang:Math.random()*Math.PI*2,amp:5+15*Math.random(),speed:.032+.064*Math.random()})}this.mesh=new w.p(r,s),this.mesh.receiveShadow=!0,this.mesh.castShadow=!0},re=function e(){var t=this;H()(this,e),this.turnLights=function(e){e?(t.light.intensity=.95,t.light.distance=1e3,t.light.decay=2,t.light.castShadow=!0,t.light.shadow.mapSize.width=128,t.light.shadow.mapSize.height=128):(t.light.intensity=0,t.light.distance=1,t.light.decay=1,t.light.castShadow=!1,t.light.shadow.mapSize.width=8,t.light.shadow.mapSize.height=8)},this.mesh=new w.r,this.mesh.name="lamp-post";var a=new B([8,100,8]).mesh;a.geometry.vertices[2].x+=1,a.geometry.vertices[2].z+=1,a.geometry.vertices[3].x+=1,a.geometry.vertices[3].z-=1,a.geometry.vertices[6].x-=1,a.geometry.vertices[6].z-=1,a.geometry.vertices[7].x-=1,a.geometry.vertices[7].z+=1,a.updateMatrix();var i=new B([6,6,40],{x:0,y:45,z:12}).mesh,n=new B([4,4,20],{x:0,y:38,z:10}).mesh;n.rotation.x-=Math.PI/4,n.updateMatrix();var o=new w.i;o.merge(a.geometry,a.matrix),o.merge(i.geometry,i.matrix),o.merge(n.geometry,n.matrix);var r=new w.p(o,N.wood);r.castShadow=!0,r.receiveShadow=!0;var s=new w.p(new w.e(1,6,4,8),N.darkMetal);s.castShadow=!0,s.receiveShadow=!0,s.position.set(0,40,30),this.light=new w.u(16636818,0,0,0),this.light.castShadow=!1,this.light.shadow.mapSize.width=16,this.light.shadow.mapSize.height=16,this.light.position.set(-10,30,30),this.mesh.add(r,s,this.light)},se={sunrise:{hemisphereLight:{intensity:.6},ambientLight:{intensity:.3},sunLight:{intensity:.75,position:[630,210,-110],color:16759431}},midday:{hemisphereLight:{intensity:.9},ambientLight:{intensity:.5},sunLight:{intensity:.75,position:[-280,695,350],color:16777215}},sunset:{hemisphereLight:{intensity:.6},ambientLight:{intensity:.3},sunLight:{intensity:.75,position:[-290,560,900],color:16759431}},midnight:{hemisphereLight:{intensity:.025},ambientLight:{intensity:.025},sunLight:{intensity:.025,position:[-420,800,370],color:15658734}}},he=[6,8,17,20],me=function e(){var t=this;H()(this,e),this.get=function(e,a){return t.localData[t.lang][e][a]},this.lang=navigator.language.substring(0,2)||"en",this.localData={en:{weekday:["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],month:["january","february","march","aril","may","june","july","august\t","september","october","november","december"]},ru:{weekday:["воскресенье","понедельник","вторник","среда","четверг","пятница","суббота"],month:["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"]}}},we=function e(){var t=this;H()(this,e),this.update=function(){if(Date.now()-t.now>6e4){if(t.now=new Date,t.hours=("0"+t.now.getHours()).slice(-2),t.minutes=("0"+t.now.getMinutes()).slice(-2),t.date=t.now.getDate(),t.month=t.lang.get("month",t.now.getMonth()),t.day=t.lang.get("weekday",t.now.getDay()),!t.timeNode)return;t.timeNode.innerHTML=t.hours+":"+t.minutes,t.dayNode.innerHTML=t.date+" "+t.month+", "+t.day}},this.getHours=function(){return t.hours},this.now=new Date(0),this.lang=new me,this.timeNode=document.getElementById("time"),this.dayNode=document.getElementById("day"),this.update()},de=function(){var e=h()(n.a.mark(function e(){var t,a,i,o,s,h,d,p,c,v,y,g,l,x,u,M,z,f,P,I,S,T,L,q,H,B,C,D,X,j,W,F,G,A,O,Z,_;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return A=function e(){T&&T.begin(),q=L.getDelta(),y.fans[0].rotate(5*q),y.fans[1].rotate(6*q),g.fans[0].rotate(-2*q),g.fans[1].rotate(-4*q),y.windvane.rotateFan(q),u[0].moveWaves(),u[1].moveWaves(),u[2].moveWaves(),l.fans[0].rotate(20*q),l.fans[1].rotate(21*q),l.fans[2].rotate(19*q),l.fans[3].rotate(22*q),l.cabine.turbines[0].rotate(.25*q),l.cabine.turbines[1].rotate(.25*q),l.mesh.position.y+=Math.sin(G*Math.PI),x.position.y+=Math.cos(G*Math.PI)/2,W.rotation.y+=Math.cos(G*Math.PI)*F/10,G+=.01,i.rotation.x+=(-H.nY*(Math.PI/10)+Math.PI/4-i.rotation.x)*F,i.rotation.y+=(H.nX*(Math.PI/8)-Math.PI/4-i.rotation.y)*F,s.render(i,o),C.update(),T&&T.end(),requestAnimationFrame(e)},j=function(e){e>=he[0]&&e<he[1]?(X.className="sunrise",c("sunrise")):e>=he[1]&&e<he[2]?(X.className="midday",c("midday")):e>=he[2]&&e<he[3]?(X.className="sunset",c("sunset")):(X.className="midnight",N.line.color.setHex(1118481),c("midnight"))},c=function(e){var t;h.intensity=se[e].hemisphereLight.intensity,d.intensity=se[e].ambientLight.intensity,p.intensity=se[e].sunLight.intensity,p.color.setHex(se[e].sunLight.color),(t=p.position).set.apply(t,r()(se[e].sunLight.position)),"midnight"===e?(f.map(function(e){return e.turnLights(!0)}),N.line.color.setHex(1118481)):(f.map(function(e){return e.turnLights()}),N.line.color.setHex(14465972))},t=window.innerWidth,a=window.innerHeight,window.addEventListener("resize",function(){t=window.innerWidth,a=window.innerHeight,s.setSize(t,a),o.aspect=t/a,o.updateProjectionMatrix()},!1),i=new w.v,o=b(t,a),e.next=10,k("world",t,a,!0);case 10:for(s=e.sent,h=new w.j(11184810,0,.9),d=new w.a(4210752,.5),p=E(),v=new Y,y=new J,g=new U,l=new ie,(x=new w.r).name="islands",x.add(v.mesh,y.mesh,g.mesh),u=[],M=[{points:[new w.z(-450,690,40),new w.z(-370,615,40),new w.z(-195,600,40),new w.z(-180,210,40),new w.z(-60,210,50),new w.z(-20,210,100),new w.z(15,205,210),new w.z(0,-180,230),new w.z(0,-180,570)],steps:25},{points:[new w.z(0,-250,665),new w.z(0,-380,665)],steps:4},{points:[new w.z(-450,90,80),new w.z(-450,0,80)],steps:2}],z=0;z<M.length;z++)u.push(new oe(M[z].points,M[z].steps));for(u.map(function(e){return x.add(e.mesh)}),f=[],P=[{x:-215,y:650,z:-185,ry:0},{x:-215,y:650,z:185,ry:Math.PI},{x:180,y:250,z:-175,ry:-Math.PI/4},{x:170,y:-150,z:400,ry:-Math.PI/2}],I=0;I<P.length;I++)(S=new re).mesh.position.set(P[I].x,P[I].y,P[I].z),S.mesh.rotation.y+=P[I].ry,f.push(S);x.add.apply(x,r()(f.map(function(e){return e.mesh}))),i.add(h,d,p,x,l.mesh),i.rotation.x=Math.PI/4,i.rotation.y=-Math.PI/4,T=void 0,L=new w.d,q=void 0,H={x:t/2,y:a/2,nX:0,nY:0},document.addEventListener("mousemove",function(e){H.nX=e.clientX/t*2-1,H.nY=1-e.clientY/a*2}),B={x:0,y:0},window.addEventListener("deviceorientation",function(e){e.beta&&e.gamma&&(B.x=e.beta,B.y=e.gamma,B.x>90&&(B.x=90),B.x<-90&&(B.x=-90),B.y>45&&(B.y=45),B.y<-45&&(B.y=-45),H.nY=B.x/90*2-1,H.nX=1-B.y/45*2)},!0),C=new we,D=+C.getHours(),X=document.getElementById("world"),j(D),W=y.windvane.vane,F=.05,G=0,document.body.classList.add("loaded"),A(),(O=new m.a({autoplace:!1})).closed=!0,document.getElementById("gui").appendChild(O.domElement),Z={cameraControls:!0,isOverride:!1,sunrise:function(){return j(7)},midday:function(){return j(11)},sunset:function(){return j(19)},midnight:function(){return j(0)}},(_=O.addFolder("daytime")).add(Z,"sunrise"),_.add(Z,"midday"),_.add(Z,"sunset"),_.add(Z,"midnight"),_.open();case 65:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}();window.addEventListener("load",function(){console.log("production"),de();var e=!1,t=function(){e?document.body.classList.add("show-controls"):document.body.classList.remove("show-controls")};t(),document.addEventListener("keyup",function(a){72===a.keyCode&&(e=!e,t())}),console.log("press h to show controls")})},np1r:function(e,t){}},["NHnr"]);